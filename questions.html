<!DOCTYPE html>
<html>
  <head>
    <title>Find your pet!</title>
    <link rel="icon" type="image/gif/png" href="icon.png">
  </head>
<body>
  
<body style="font-family: courier;">

<h1>The Purrfect Pet Questionnaire</h1>

<p><b>Check the boxes to select characteristics of your purrfect pet. The more boxes you check, the higher the chance of finding 
  your purrfect pet. The less boxes you check, the lower the chance of finding your purrfect pet.</b></p>
    
  <p1><b>Type of Pet:</b></p1>
    <form action="/action_page.php">
    <input id= "dogcheckbox" type="checkbox" name="pet1" value="Dog">Dog
    <br>
    <input id= "catcheckbox"type="checkbox" name="pet2" value="Cat">Cat 
    <br>
    <input id= "rabbitcheckbox"type="checkbox" name="pet3" value="Rabbit">Rabbit
    <br>
    <input id= "hamstercheckbox"type="checkbox" name="pet4" value="Hamster">Hamster
    <br>
    <input id= "reptilecheckbox"type="checkbox" name="pet5" value="Reptile">Reptile
    <br><br>
    </form> 
  
  <p2><b>Gender:</b></p2>

    <form action="/action_page.php">
    <input id= "malecheckbox" type="checkbox" name="gender1" value="Male">Male
    <br>
    <input id= "femalecheckbox" type="checkbox" name="gender2" value="Female">Female 
    <br><br>
    </form>
  
  <p3><b>Neuter:</b></p3>
  
  <form action="/action_page.php">
    <input id= "neuteredcheckbox" type="checkbox" name="neutered1" value="Yes">Yes
    <br>
    <input id= "notneuteredcheckbox" type="checkbox" name="neutered2" value="No">No
    <br><br>
    </form>
  
  <p4><b>Age Range:</b></p4>
   
  <form action="/action_page.php">
    <input id= "newborncheckbox" type="checkbox" name="age1" value="Young/Newborn">Young/Newborn
    <br>
    <input id= "middlecheckbox" type="checkbox" name="age2" value="Middle-aged">Middle-Aged
    <br>
    <input id= "oldcheckbox" type="checkbox" name="age3" value="Old">Elderly/Old
    <br><br>
    </form>
  
  <p5><b>Size:</b></p5>
  
  <form action="/action_page.php">
    <input id= "smallcheckbox" type="checkbox" name="size1" value="Small">Small/Toy
    <br>
    <input id= "mediumcheckbox" type="checkbox" name="size2" value="Medium">Medium
    <br>
    <input id= "largecheckbox" type="checkbox" name="size3" value="Large">Big/Large
    <br><br>
    </form>
  
    
  <button type="button" onclick= "myFunction()">Submit</button>
  
  <a class="button" href="https://eeisenman.github.io/perfectpetproject/feed.html">See Results!</a>
  
    <input type="reset">
  </fieldset>
  
  </form>
  
  <script>
    function myFunction() {
      var dogcheckbox = document.getElementById("dogcheckbox").checked;
      var catcheckbox = document.getElementById("catcheckbox").checked;
      var rabbitcheckbox = document.getElementById("rabbitcheckbox").checked;
      var hamstercheckbox = document.getElementById("hamstercheckbox").checked;
      var reptilecheckbox = document.getElementById("reptilecheckbox").checked;
      var malecheckbox = document.getElementById("malecheckbox").checked;
      var femalecheckbox = document.getElementById("femalecheckbox").checked;
      var neuteredheckbox = document.getElementById("neuteredcheckbox").checked;
      var notneuteredcheckbox = document.getElementById("notneuteredcheckbox").checked;
      var newborncheckbox = document.getElementById("newborncheckbox").checked;
      var middlecheckbox = document.getElementById("middlecheckbox").checked;
      var oldcheckbox = document.getElementById("oldcheckbox").checked;
      var smallcheckbox = document.getElementById("smallcheckbox").value;
      var mediumcheckbox = document.getElementById("mediumcheckbox").value;
      var largecheckbox = document.getElementById("largecheckbox").value;
      alert('Your questionnaire has been completed.');
      alert(dogcheckbox);
      alert(catcheckbox);
      
text = localStorage.getItem("testJSON");
petlist = JSON.parse(text);
      
var inputs = document.getElementsByTagName('input');

var listofCriteria = [];
      
for(var i = 0; i < inputs.length; i++) {
  var box = inputs[i];
  if (box.checked == true) {
        listofCriteria.push(box.value); 
    }
}
      
var listlength = petlist.length;
var listofMatches = [];

for (var x = 0; x < listlength; x++) {
  var pet = petlist[x];
      
  var pettype = pet["petType"];
  var petgender = listofMatches["petGender"];
  var petneuter = listofMatches["petNeuter"];
  var petage = listofMatches["petAge"];
  var petsize = listofMatches["petSize"];
  
    if (listofCriteria.indexOf(pettype) > -1) {
    listofMatches.push(pet);
    }
  
    if (listofCriteria.indexOf(petgender) == -1) {
    listofMatches.splice(listofMatches.indexOf(pet), 1); 
    }
  
    else if (listofCriteria.indexOf(petneuter) == -1) {
    listofMatches.splice(listofMatches.indexOf(pet), 1);
    }
  
    else if (listofCriteria.indexOf(petage) == -1) {
    listofMatches.splice(listofMatches.indexOf(pet), 1);
    }
  
    else if (listofCriteria.indexOf(petsize) == -1) {
    listofMatches.splice(listofMatches.indexOf(pet), 1);
    }   
}
console.log(listofMatches);
    }
 
      

   
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  </script>
</body>
</html>
